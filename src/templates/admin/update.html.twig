{% extends 'admin/base.html.twig' %}

{% block content %}

    <div class="container">
        <form class="mt-5" action="/admin/blog-update/{{ blog.id }}" method="post">
            <div class="form-group mt-3">
                <label for="title">Title</label>
                <input type="text" class="form-control" name="title" id="title" value="{{ blog.title }}" placeholder="Title">
            </div>
            <div class="form-group mt-3">
                <label for="content">Content</label>
                <textarea type="text" style="height: 500px" name="content" class="form-control" id="content" placeholder="Type something..">{{ blog.content }}</textarea>
            </div>
            {% set selectedCategoryIds = [] %}
            {% for selectedCategory in blog.categories %}
                {% set selectedCategoryIds = selectedCategoryIds | merge([selectedCategory.id]) %}
            {% endfor %}
            <div class="my-3">
                <label for="category">Category</label>
                <select id="category" class="js-example-basic-multiple" style="width: 100%" name="categories[]" multiple="multiple">
                    {% for category in categories %}
                        <option value="{{ category.id }}" {% if inArray(category.id, selectedCategoryIds) %}selected{% endif %}>{{ category.name }}</option>
                    {% endfor %}
                </select>
            </div>
            <a href="/admin/blog-detail/{{ blog.id }}" class="btn btn-dark mr-2">Go Back</a>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>
{% endblock %}